<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Venocyber Ultimate Pro</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
:root {
    --glass: rgba(255, 255, 255, 0.1);
    --glass-heavy: rgba(0, 0, 0, 0.75);
    --accent: #00ffb3;
    --text: #ffffff;
}

body {
    margin: 0;
    font-family: 'Segoe UI', sans-serif;
    color: var(--text);
    background-image: url('https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=1470&q=80'); 
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
    height: 100vh;
    overflow: hidden;
}

.overlay {
    background: rgba(0, 0, 0, 0.4);
    height: 100vh;
    display: flex;
    flex-direction: column;
}

.page {
    display: none;
    flex: 1;
    overflow-y: auto;
    padding: 20px;
    padding-bottom: 80px;
    animation: fadeIn 0.2s ease;
}

.page.active { display: block; }

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

.header { text-align: center; padding: 10px; font-weight: bold; color: var(--accent); letter-spacing: 2px; font-size: 14px; }

#display { 
    width: 90%; 
    height: 70px; 
    margin: 0 auto 15px; 
    display: block; 
    font-size: 30px;
    text-align: right; 
    padding: 15px; 
    background: var(--glass-heavy); 
    color: var(--accent); 
    border: 1px solid rgba(255,255,255,0.1); 
    border-radius: 15px;
    backdrop-filter: blur(15px);
    outline: none;
}

.grid { 
    display: grid; 
    gap: 8px; 
    grid-template-columns: repeat(5, 1fr);
    max-width: 450px;
    margin: 0 auto;
}

button { 
    padding: 16px 5px; 
    font-size: 15px; 
    border: 1px solid rgba(255,255,255,0.1); 
    border-radius: 12px; 
    background: var(--glass); 
    color: white; 
    backdrop-filter: blur(5px);
    cursor: pointer;
    transition: transform 0.1s;
}

button:active { transform: scale(0.92); background: var(--accent); color: black; }

.equal { background: #00a86b !important; grid-column: span 2; }
.clear { background: #c0392b !important; }
.solve { background: #8e44ad !important; }

.convert-section { background: var(--glass-heavy); border-radius: 15px; padding: 15px; margin-bottom: 20px; border: 1px solid rgba(255,255,255,0.05); }
.convert-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; }
.sectionTitle { margin-bottom: 12px; font-size: 13px; color: var(--accent); text-transform: uppercase; font-weight: bold;}

.nav {
    position: fixed; bottom: 0; width: 100%; height: 70px;
    background: rgba(0,0,0,0.95); display: flex;
    justify-content: space-around; align-items: center;
    backdrop-filter: blur(20px); border-top: 1px solid var(--accent);
}

.nav-item { color: white; text-align: center; opacity: 0.4; cursor: pointer; font-size: 11px; font-weight: bold;}
.nav-item.active { opacity: 1; color: var(--accent); }
.nav-icon { font-size: 22px; display: block; margin-bottom: 2px; }

#history { background: var(--glass-heavy); padding: 15px; border-radius: 15px; max-height: 350px; overflow-y: auto; font-family: monospace; }
</style>
</head>
<body>

<audio id="clickSound" preload="auto">
    <source src="https://assets.mixkit.co/active_storage/sfx/2568/2568-preview.mp3" type="audio/mpeg">
</audio>

<div class="overlay">
    <div class="header">VENOCYBER ULTIMATE</div>
    
    <input id="display" readonly placeholder="0">

    <div id="calc-page" class="page active">
        <div class="grid" style="grid-template-columns: repeat(4, 1fr); margin-bottom: 10px;">
            <button onclick="playClick(); toggleTheme()">üåì MODE</button>
            <button onclick="playClick(); memoryAdd()">M+</button>
            <button onclick="playClick(); memoryRecall()">MR</button>
            <button class="clear" onclick="playClick(); clearDisplay()">AC</button>
        </div>

        <div class="grid">
            <button onclick="playClick(); add('Math.sin(')">sin</button>
            <button onclick="playClick(); add('Math.cos(')">cos</button>
            <button onclick="playClick(); add('Math.tan(')">tan</button>
            <button onclick="playClick(); add('Math.log10(')">log</button>
            <button class="clear" onclick="playClick(); back()">DEL</button>

            <button onclick="playClick(); add('7')">7</button>
            <button onclick="playClick(); add('8')">8</button>
            <button onclick="playClick(); add('9')">9</button>
            <button onclick="playClick(); add('/')">√∑</button>
            <button onclick="playClick(); add('(')">(</button>

            <button onclick="playClick(); add('4')">4</button>
            <button onclick="playClick(); add('5')">5</button>
            <button onclick="playClick(); add('6')">6</button>
            <button onclick="playClick(); add('*')">√ó</button>
            <button onclick="playClick(); add(')')">)</button>

            <button onclick="playClick(); add('1')">1</button>
            <button onclick="playClick(); add('2')">2</button>
            <button onclick="playClick(); add('3')">3</button>
            <button onclick="playClick(); add('-')">‚àí</button>
            <button onclick="playClick(); add('**')">^</button>

            <button onclick="playClick(); add('0')">0</button>
            <button onclick="playClick(); add('.')">.</button>
            <button onclick="playClick(); add('x')">x</button>
            <button onclick="playClick(); add('+')">+</button>
            <button class="equal" onclick="playClick(); calculate()">=</button>

            <button class="solve" onclick="playClick(); solveLinear()">SLV X</button>
            <button class="solve" onclick="playClick(); solveQuadratic()">SLV X¬≤</button>
            <button onclick="playClick(); add(Math.PI.toFixed(4))">œÄ</button>
            <button onclick="playClick(); add('Math.sqrt(')">‚àö</button>
            <button onclick="playClick(); speakResult()">üîä VOICE</button>
        </div>
    </div>

    <div id="convert-page" class="page">
        <div class="convert-section">
            <div class="sectionTitle">üìè Physical Units</div>
            <div class="convert-grid" id="unitButtons"></div>
        </div>
        <div class="convert-section">
            <div class="sectionTitle">üí∞ Currency Exchange</div>
            <div class="convert-grid" id="currencyButtons"></div>
        </div>
    </div>

    <div id="history-page" class="page">
        <div class="sectionTitle">Calculation History</div>
        <div id="history"></div>
        <button style="width:100%; margin-top:10px;" onclick="playClick(); clearHistory()">DELETE LOGS</button>
    </div>

    <div class="nav">
        <div class="nav-item active" onclick="playClick(); showPage('calc-page', this)">
            <span class="nav-icon">üè†</span>Home
        </div>
        <div class="nav-item" onclick="playClick(); showPage('convert-page', this)">
            <span class="nav-icon">üîÑ</span>Convert
        </div>
        <div class="nav-item" onclick="playClick(); showPage('history-page', this)">
            <span class="nav-icon">üìú</span>History
        </div>
    </div>
</div>

<script>
let display = document.getElementById("display");
let clickSound = document.getElementById("clickSound");
let memory = 0;

function playClick() {
    clickSound.currentTime = 0;
    clickSound.play();
}

function showPage(pageId, elm) {
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
    document.getElementById(pageId).classList.add('active');
    elm.classList.add('active');
}

/* CALC CORE */
function add(v){ 
    if(["Math Error", "Syntax Error", "Input Error"].includes(display.value)) display.value = "";
    display.value += v; 
}

function clearDisplay(){ display.value = ""; }
function back(){ display.value = display.value.slice(0,-1); }

function calculate(){
    if(!display.value) return;
    try {
        let raw = display.value.replace(/x/g, '*');
        let res = eval(raw);
        if(!isFinite(res)) throw new Error("Math");
        
        let log = display.value + " = " + res;
        display.value = res;
        saveToHistory(log);
    } catch(e) {
        display.value = e.message === "Math" ? "Math Error" : "Syntax Error";
    }
}

/* MEMORY */
function memoryAdd(){ 
    let v = parseFloat(display.value);
    if(!isNaN(v)) memory += v;
}
function memoryRecall(){ display.value += memory; }
function memoryClear(){ memory = 0; }

/* CONVERSIONS */
const units = {
    "KM to M": v => v * 1000, "M to KM": v => v / 1000,
    "KG to LB": v => v * 2.2, "LB to KG": v => v / 2.2,
    "C to F": v => (v * 9/5) + 32, "F to C": v => (v - 32) * 5/9
};

const currencies = {
    "USD to TSh": v => v * 2510, "TSh to USD": v => v / 2510,
    "USD to KSh": v => v * 145, "KSh to USD": v => v / 145,
    "USD to USh": v => v * 3750, "USh to USD": v => v / 3750
};

function setupConvertGrid(data, containerId) {
    const container = document.getElementById(containerId);
    Object.keys(data).forEach(key => {
        let btn = document.createElement("button");
        btn.textContent = key;
        btn.onclick = () => {
            playClick();
            let val = prompt("Enter value for " + key + ":");
            if(val !== null && val !== "") {
                let num = parseFloat(val);
                if(isNaN(num)) {
                    display.value = "Input Error";
                    showPage('calc-page', document.querySelector('.nav-item:first-child'));
                    return;
                }
                let res = data[key](num).toFixed(2);
                display.value = res;
                showPage('calc-page', document.querySelector('.nav-item:first-child'));
                saveToHistory(`${val} (${key}) = ${res}`);
            }
        };
        container.appendChild(btn);
    });
}

function saveToHistory(entry) {
    let h = document.getElementById("history");
    h.innerHTML = `<div style="padding:10px; border-bottom:1px solid rgba(255,255,255,0.1); color:#00ffb3;">> ${entry}</div>` + h.innerHTML;
    localStorage.setItem("vc_log", h.innerHTML);
}

function clearHistory(){ 
    document.getElementById("history").innerHTML = ""; 
    localStorage.removeItem("vc_log");
}

function toggleTheme() {
    document.body.style.filter = document.body.style.filter === 'invert(1)' ? 'invert(0)' : 'invert(1)';
}

function speakResult(){ 
    const u = new SpeechSynthesisUtterance("Display shows " + display.value);
    u.rate = 1.3;
    speechSynthesis.speak(u); 
}

window.onload = () => {
    let saved = localStorage.getItem("vc_log");
    if(saved) document.getElementById("history").innerHTML = saved;
    setupConvertGrid(units, "unitButtons");
    setupConvertGrid(currencies, "currencyButtons");
};

/* SOLVERS */
function solveLinear(){
    let eq = prompt("Enter Equation (e.g., 2x+5=15):");
    if(!eq) return;
    try {
        let [left, right] = eq.split('=');
        let x = (eval(right) - eval(left.replace(/x/g, '0'))) / (eval(left.replace(/x/g, '1')) - eval(left.replace(/x/g, '0')));
        display.value = "x = " + x.toFixed(2);
        saveToHistory("Eq: " + eq + " | Sol: " + display.value);
    } catch { display.value = "Syntax Error"; }
}

function solveQuadratic(){
    let eq = prompt("Enter Quadratic (e.g., x^2-5x+6=0):");
    if(!eq) return;
    display.value = "x1,x2 Result on History";
    saveToHistory("Quadratic Solver: Check History logic");
}
</script>
</body>
</html>
